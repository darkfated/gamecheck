# GameCheck Backend

–ù–∞–±–æ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É—á—ë—Ç–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –æ—Ç–∑—ã–≤–æ–≤.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
gamecheck/
‚îú‚îÄ‚îÄ database-init.sql     # SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ start-services.bat    # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ backend/
    ‚îú‚îÄ‚îÄ auth-service/     # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ game-service/     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏–≥—Ä
    ‚îú‚îÄ‚îÄ progress-service/ # –£—á—ë—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–≥—Ä–æ–∫–æ–≤
    ‚îú‚îÄ‚îÄ review-service/   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞–º–∏
    ‚îî‚îÄ‚îÄ shared/           # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

## ‚öôÔ∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go **1.22+**
- PostgreSQL **12+**
- Windows 10/11

## üîß –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**  
   ```
   git clone https://github.com/darkfated/gamecheck.git
   cd gamecheck/backend
   ```

2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**  
   ```
   psql -h localhost -p 5432 -U postgres -f database-init.sql postgres
   ```
   
   –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –°–æ–∑–¥–∞—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (auth_db, game_db, progress_db, review_db)
   - –°–æ–∑–¥–∞—Å—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã
   - –î–æ–±–∞–≤–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**  
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã .env.example –≤ .env –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
   ```
   copy backend\auth-service\.env.example backend\auth-service\.env
   copy backend\game-service\.env.example backend\game-service\.env
   copy backend\progress-service\.env.example backend\progress-service\.env
   copy backend\review-service\.env.example backend\review-service\.env
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã**  
   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
   ```
   start-services.bat
   ```
   
   –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   ```
   cd backend\auth-service && go run main.go
   cd backend\game-service && go run main.go
   cd backend\progress-service && go run main.go
   cd backend\review-service && go run main.go
   ```

5. **–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!**
   
   –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
   - AuthService: http://localhost:8081
   - GameService: http://localhost:8082
   - ProgressService: http://localhost:8083
   - ReviewService: http://localhost:8084

## üìù –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

| –õ–æ–≥–∏–Ω | Email | –ü–∞—Ä–æ–ª—å | –†–æ–ª—å |
|---|---|---|---|
| admin | admin@example.com | password123 | admin |
| user1 | user1@example.com | password123 | user |
| user2 | user2@example.com | password123 | user |

## üöÄ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. AuthService (http://localhost:8081)

- **POST** `/v1/auth/signup` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- **POST** `/v1/auth/login` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **GET** `/v1/auth/me` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (JWT)

### 2. GameService (http://localhost:8082)

- **GET** `/v1/games` ‚Äî —Å–ø–∏—Å–æ–∫ –∏–≥—Ä
- **GET** `/v1/games/:id` ‚Äî –¥–µ—Ç–∞–ª–∏ –∏–≥—Ä—ã

*–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞:*
- **POST** `/v1/games` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É
- **PUT** `/v1/games/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∏–≥—Ä—É
- **DELETE** `/v1/games/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–≥—Ä—É

### 3. ProgressService (http://localhost:8083)

*–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç JWT*
- **POST** `/v1/users/me/games` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
- **GET** `/v1/users/me/games` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–≥—Ä
- **DELETE** `/v1/users/me/games/:game_id` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### 4. ReviewService (http://localhost:8084)

- **GET** `/v1/games/:game_id/reviews` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤

*–¢—Ä–µ–±—É–µ—Ç—Å—è JWT:*
- **POST** `/v1/games/:game_id/reviews` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
- **PUT** `/v1/games/:game_id/reviews/:review_id` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –æ—Ç–∑—ã–≤
- **DELETE** `/v1/games/:game_id/reviews/:review_id` ‚Äî —É–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- **–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**  
  ```bash
  go mod tidy
  ```

- **–°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞**  
  ```bash
  go build -o bin/auth-service ./auth-service
  ```

- **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**  
  ```bash
  go test ./auth-service/...
  go test ./game-service/...
  # –∏ —Ç.–¥.
  ```

---

## üìö –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

- –î–æ–±–∞–≤–∏—Ç—å CI/CD (GitHub Actions)  
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana)  
- –í–Ω–µ–¥—Ä–∏—Ç—å rate‚Äëlimit –∏ CORS —á–µ—Ä–µ–∑ API Gateway  
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –∏–≥—Ä–∞–º
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –∏–≥—Ä

---

–°–ø–∞—Å–∏–±–æ! –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî –ø–∏—à–∏—Ç–µ.
